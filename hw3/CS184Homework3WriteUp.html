<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_l8mjrztg4zjt-2{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-1{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-0{list-style-type:none}ol.lst-kix_a95cw6hhs9e6-1.start{counter-reset:lst-ctn-kix_a95cw6hhs9e6-1 0}.lst-kix_l8mjrztg4zjt-3>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-3}ol.lst-kix_l8mjrztg4zjt-4.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-4 0}ul.lst-kix_a95cw6hhs9e6-0{list-style-type:none}ul.lst-kix_a95cw6hhs9e6-4{list-style-type:none}ul.lst-kix_a95cw6hhs9e6-3{list-style-type:none}ul.lst-kix_a95cw6hhs9e6-2{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-1.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-1 0}.lst-kix_l8mjrztg4zjt-2>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-2}ol.lst-kix_l8mjrztg4zjt-8{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-7{list-style-type:none}.lst-kix_hhxrhszfk0xv-1>li:before{content:"\0025cb   "}ol.lst-kix_l8mjrztg4zjt-6{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-5{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-4{list-style-type:none}.lst-kix_jsu1vogd8skw-8>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-8}ol.lst-kix_l8mjrztg4zjt-3{list-style-type:none}.lst-kix_hhxrhszfk0xv-0>li:before{content:"\0025cf   "}ol.lst-kix_jsu1vogd8skw-0.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-0 0}.lst-kix_hhxrhszfk0xv-3>li:before{content:"\0025cf   "}.lst-kix_hhxrhszfk0xv-5>li:before{content:"\0025a0   "}.lst-kix_hhxrhszfk0xv-2>li:before{content:"\0025a0   "}.lst-kix_hhxrhszfk0xv-6>li:before{content:"\0025cf   "}ol.lst-kix_jsu1vogd8skw-8{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-2{list-style-type:none}ol.lst-kix_jsu1vogd8skw-7{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-1{list-style-type:none}ol.lst-kix_jsu1vogd8skw-6{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-4{list-style-type:none}ol.lst-kix_jsu1vogd8skw-5{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-3{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-0{list-style-type:none}.lst-kix_hhxrhszfk0xv-4>li:before{content:"\0025cb   "}.lst-kix_a95cw6hhs9e6-8>li:before{content:"\0025a0   "}ul.lst-kix_a95cw6hhs9e6-8{list-style-type:none}ul.lst-kix_a95cw6hhs9e6-7{list-style-type:none}ul.lst-kix_a95cw6hhs9e6-6{list-style-type:none}.lst-kix_a95cw6hhs9e6-7>li:before{content:"\0025cb   "}ul.lst-kix_a95cw6hhs9e6-5{list-style-type:none}ol.lst-kix_jsu1vogd8skw-3.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-3 0}.lst-kix_a95cw6hhs9e6-1>li{counter-increment:lst-ctn-kix_a95cw6hhs9e6-1}.lst-kix_hhxrhszfk0xv-7>li:before{content:"\0025cb   "}.lst-kix_jsu1vogd8skw-0>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-0}.lst-kix_hhxrhszfk0xv-8>li:before{content:"\0025a0   "}.lst-kix_6wliz5tcvkuz-8>li:before{content:"\0025a0   "}.lst-kix_l8mjrztg4zjt-0>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-0,decimal) ". "}.lst-kix_6wliz5tcvkuz-6>li:before{content:"\0025cf   "}.lst-kix_l8mjrztg4zjt-0>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-0}.lst-kix_6wliz5tcvkuz-7>li:before{content:"\0025cb   "}.lst-kix_6wliz5tcvkuz-1>li:before{content:"\0025cb   "}.lst-kix_l8mjrztg4zjt-3>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-3,decimal) ". "}.lst-kix_l8mjrztg4zjt-4>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-4,lower-latin) ". "}.lst-kix_l8mjrztg4zjt-5>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-5}.lst-kix_6wliz5tcvkuz-0>li:before{content:"\0025cf   "}.lst-kix_6wliz5tcvkuz-2>li:before{content:"\0025a0   "}ul.lst-kix_4lsnx9uyw7lp-6{list-style-type:none}.lst-kix_l8mjrztg4zjt-1>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-1,lower-latin) ". "}.lst-kix_l8mjrztg4zjt-2>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-2,lower-roman) ". "}.lst-kix_l8mjrztg4zjt-5>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-5,lower-roman) ". "}.lst-kix_l8mjrztg4zjt-6>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-6,decimal) ". "}ul.lst-kix_4lsnx9uyw7lp-5{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-8{list-style-type:none}ul.lst-kix_4lsnx9uyw7lp-7{list-style-type:none}.lst-kix_6wliz5tcvkuz-5>li:before{content:"\0025a0   "}.lst-kix_l8mjrztg4zjt-6>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-6}.lst-kix_6wliz5tcvkuz-4>li:before{content:"\0025cb   "}.lst-kix_6wliz5tcvkuz-3>li:before{content:"\0025cf   "}ol.lst-kix_l8mjrztg4zjt-3.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-3 0}.lst-kix_jsu1vogd8skw-5>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-5}.lst-kix_jsu1vogd8skw-2>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-2}.lst-kix_jsu1vogd8skw-0>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-0,decimal) ". "}.lst-kix_jsu1vogd8skw-2>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-2,lower-roman) ". "}.lst-kix_jsu1vogd8skw-1>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-1,lower-latin) ". "}ol.lst-kix_jsu1vogd8skw-2.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-2 0}.lst-kix_jsu1vogd8skw-4>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-4,lower-latin) ". "}.lst-kix_jsu1vogd8skw-3>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-3,decimal) ". "}ol.lst-kix_jsu1vogd8skw-8.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-8 0}ol.lst-kix_jsu1vogd8skw-1.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-1 0}.lst-kix_jsu1vogd8skw-4>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-4}.lst-kix_n3hm8fi1tz1w-3>li:before{content:"\0025cf   "}ol.lst-kix_l8mjrztg4zjt-8.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-8 0}.lst-kix_4lsnx9uyw7lp-1>li:before{content:"\0025cb   "}.lst-kix_n3hm8fi1tz1w-2>li:before{content:"\0025a0   "}.lst-kix_jsu1vogd8skw-8>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-8,lower-roman) ". "}ol.lst-kix_jsu1vogd8skw-4.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-4 0}.lst-kix_4lsnx9uyw7lp-0>li:before{content:"\0025cf   "}.lst-kix_n3hm8fi1tz1w-1>li:before{content:"\0025cb   "}.lst-kix_jsu1vogd8skw-5>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-5,lower-roman) ". "}.lst-kix_n3hm8fi1tz1w-0>li:before{content:"\0025cf   "}.lst-kix_jsu1vogd8skw-6>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-6,decimal) ". "}.lst-kix_jsu1vogd8skw-7>li:before{content:"" counter(lst-ctn-kix_jsu1vogd8skw-7,lower-latin) ". "}ol.lst-kix_l8mjrztg4zjt-5.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-5 0}.lst-kix_4lsnx9uyw7lp-8>li:before{content:"\0025a0   "}.lst-kix_3zyids3q36be-6>li:before{content:"\0025cf   "}.lst-kix_l8mjrztg4zjt-7>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-7,lower-latin) ". "}.lst-kix_l8mjrztg4zjt-8>li:before{content:"" counter(lst-ctn-kix_l8mjrztg4zjt-8,lower-roman) ". "}.lst-kix_3zyids3q36be-7>li:before{content:"\0025cb   "}ol.lst-kix_jsu1vogd8skw-7.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-7 0}.lst-kix_4lsnx9uyw7lp-3>li:before{content:"\0025cf   "}.lst-kix_4lsnx9uyw7lp-2>li:before{content:"\0025a0   "}.lst-kix_3zyids3q36be-8>li:before{content:"\0025a0   "}ol.lst-kix_l8mjrztg4zjt-2.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-2 0}ul.lst-kix_hhxrhszfk0xv-1{list-style-type:none}ul.lst-kix_hhxrhszfk0xv-2{list-style-type:none}.lst-kix_l8mjrztg4zjt-8>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-8}ul.lst-kix_hhxrhszfk0xv-3{list-style-type:none}ul.lst-kix_hhxrhszfk0xv-4{list-style-type:none}.lst-kix_jsu1vogd8skw-6>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-6}.lst-kix_4lsnx9uyw7lp-4>li:before{content:"\0025cb   "}ul.lst-kix_hhxrhszfk0xv-0{list-style-type:none}.lst-kix_4lsnx9uyw7lp-5>li:before{content:"\0025a0   "}.lst-kix_jsu1vogd8skw-3>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-3}.lst-kix_4lsnx9uyw7lp-7>li:before{content:"\0025cb   "}ul.lst-kix_hhxrhszfk0xv-5{list-style-type:none}ul.lst-kix_hhxrhszfk0xv-6{list-style-type:none}.lst-kix_4lsnx9uyw7lp-6>li:before{content:"\0025cf   "}ul.lst-kix_hhxrhszfk0xv-7{list-style-type:none}ul.lst-kix_hhxrhszfk0xv-8{list-style-type:none}.lst-kix_a95cw6hhs9e6-0>li:before{content:"\0025cf   "}ul.lst-kix_6wliz5tcvkuz-1{list-style-type:none}ol.lst-kix_jsu1vogd8skw-6.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-6 0}ul.lst-kix_6wliz5tcvkuz-2{list-style-type:none}.lst-kix_a95cw6hhs9e6-1>li:before{content:"" counter(lst-ctn-kix_a95cw6hhs9e6-1,lower-latin) ". "}ul.lst-kix_6wliz5tcvkuz-0{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-6{list-style-type:none}ul.lst-kix_6wliz5tcvkuz-5{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-5{list-style-type:none}ul.lst-kix_6wliz5tcvkuz-6{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-8{list-style-type:none}ul.lst-kix_6wliz5tcvkuz-3{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-7{list-style-type:none}ul.lst-kix_6wliz5tcvkuz-4{list-style-type:none}.lst-kix_a95cw6hhs9e6-4>li:before{content:"\0025cb   "}.lst-kix_jsu1vogd8skw-1>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-1}.lst-kix_a95cw6hhs9e6-5>li:before{content:"\0025a0   "}ul.lst-kix_6wliz5tcvkuz-7{list-style-type:none}ol.lst-kix_l8mjrztg4zjt-6.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-6 0}ul.lst-kix_6wliz5tcvkuz-8{list-style-type:none}ul.lst-kix_3zyids3q36be-8{list-style-type:none}.lst-kix_a95cw6hhs9e6-6>li:before{content:"\0025cf   "}.lst-kix_jsu1vogd8skw-7>li{counter-increment:lst-ctn-kix_jsu1vogd8skw-7}ul.lst-kix_3zyids3q36be-7{list-style-type:none}ul.lst-kix_3zyids3q36be-4{list-style-type:none}ol.lst-kix_jsu1vogd8skw-0{list-style-type:none}ul.lst-kix_3zyids3q36be-3{list-style-type:none}ul.lst-kix_3zyids3q36be-6{list-style-type:none}ul.lst-kix_3zyids3q36be-5{list-style-type:none}ul.lst-kix_3zyids3q36be-0{list-style-type:none}ol.lst-kix_jsu1vogd8skw-4{list-style-type:none}ol.lst-kix_jsu1vogd8skw-3{list-style-type:none}ul.lst-kix_3zyids3q36be-2{list-style-type:none}ol.lst-kix_jsu1vogd8skw-2{list-style-type:none}ul.lst-kix_3zyids3q36be-1{list-style-type:none}ol.lst-kix_jsu1vogd8skw-1{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-2{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-1{list-style-type:none}ul.lst-kix_n3hm8fi1tz1w-4{list-style-type:none}.lst-kix_a95cw6hhs9e6-3>li:before{content:"\0025cf   "}.lst-kix_3zyids3q36be-5>li:before{content:"\0025a0   "}ul.lst-kix_n3hm8fi1tz1w-3{list-style-type:none}.lst-kix_a95cw6hhs9e6-2>li:before{content:"\0025a0   "}ul.lst-kix_n3hm8fi1tz1w-0{list-style-type:none}.lst-kix_3zyids3q36be-4>li:before{content:"\0025cb   "}.lst-kix_3zyids3q36be-1>li:before{content:"\0025cb   "}.lst-kix_3zyids3q36be-3>li:before{content:"\0025cf   "}.lst-kix_l8mjrztg4zjt-7>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-7}ol.lst-kix_l8mjrztg4zjt-0.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-0 0}.lst-kix_3zyids3q36be-2>li:before{content:"\0025a0   "}ol.lst-kix_a95cw6hhs9e6-1{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_3zyids3q36be-0>li:before{content:"\0025cf   "}.lst-kix_n3hm8fi1tz1w-4>li:before{content:"\0025cb   "}.lst-kix_n3hm8fi1tz1w-5>li:before{content:"\0025a0   "}.lst-kix_l8mjrztg4zjt-1>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-1}ol.lst-kix_jsu1vogd8skw-5.start{counter-reset:lst-ctn-kix_jsu1vogd8skw-5 0}ol.lst-kix_l8mjrztg4zjt-7.start{counter-reset:lst-ctn-kix_l8mjrztg4zjt-7 0}.lst-kix_n3hm8fi1tz1w-6>li:before{content:"\0025cf   "}.lst-kix_n3hm8fi1tz1w-8>li:before{content:"\0025a0   "}.lst-kix_l8mjrztg4zjt-4>li{counter-increment:lst-ctn-kix_l8mjrztg4zjt-4}.lst-kix_n3hm8fi1tz1w-7>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c6{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c2{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c0{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c3{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c7{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c4{padding:0;margin:0}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7 doc-content"><h2 class="c0" id="h.3tpb13dv4q2o"><span class="c1">Overview</span></h2><hr style="page-break-before:always;display:none;"><p class="c5"><span class="c3"></span></p><h2 class="c0" id="h.skzisipzhlcu"><span class="c1">Part 1</span></h2><ul class="c4 lst-kix_6wliz5tcvkuz-0 start"><li class="c6 li-bullet-0"><span class="c3">Rays are generated with their origin set to the camera origin and pointing at a corresponding point on a plane. The plane is 1 unit away, and rotated to be in the direction of the camera. For every ray generated, I then calculate which of the primitives it intersects using clever math. For this part I implemented sphere and triangle intersections.</span></li><li class="c6 li-bullet-0"><span class="c3">I implemented the M&ouml;ller&ndash;Trumbore intersection algorithm. This algorithm calculates two edges of the triangles, a vector from the ray&rsquo;s origin to the point of intersection of the edges, a vector orthogonal to one of the edges and the ray&rsquo;s direction, and an orthogonal vector to origin to point vector and the other edge. Then, using some dot products, it calculates t, b1, and b2. t is the distance from the ray&rsquo;s origin to its intersection, (1 - b1 - b2), b1, and b2 are the barycentric coordinates, and are used to calculate the intersection&rsquo;s normal vector as well. If t is negative the triangle is behind the camera, and if b1, b2, or (1 - b1 - b2) aren&rsquo;t in the range [0, 1], then the intersection with the triangle&rsquo;s plane isn&rsquo;t in the triangle.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 283.50px; height: 213.43px;"><img alt="" src="images/image8.png" style="width: 283.50px; height: 213.43px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 283.80px; height: 210.88px;"><img alt="" src="images/image20.png" style="width: 283.80px; height: 210.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 283.50px; height: 213.14px;"><img alt="" src="images/image16.png" style="width: 283.50px; height: 213.14px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><hr style="page-break-before:always;display:none;"></li></ul><h2 class="c0" id="h.ygamiw4uhjh1"><span class="c1">Part 2</span></h2><ul class="c4 lst-kix_a95cw6hhs9e6-0 start"><li class="c6 li-bullet-0"><span class="c3">My BVH is a recursive algorithm with three main steps.</span></li></ul><ol class="c4 lst-kix_l8mjrztg4zjt-0 start" start="1"><li class="c2 li-bullet-0"><span class="c3">Generate a bounding box containing all the points given</span></li><li class="c2 li-bullet-0"><span class="c3">Check if it meets the requirements to be a leaf node, if so make it a leaf node and return</span></li><li class="c2 li-bullet-0"><span class="c3">If not, find the axis with the largest extent (vertical and horizontal) and split it around the center-most point along that axis.</span></li></ol><ul class="c4 lst-kix_hhxrhszfk0xv-0 start"><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 281.95px; height: 213.14px;"><img alt="" src="images/image29.png" style="width: 281.95px; height: 213.14px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 279.50px; height: 209.29px;"><img alt="" src="images/image26.png" style="width: 279.50px; height: 209.29px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 280.50px; height: 210.38px;"><img alt="" src="images/image6.png" style="width: 280.50px; height: 210.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 280.50px; height: 210.38px;"><img alt="" src="images/image7.png" style="width: 280.50px; height: 210.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span>BVH acceleration changed rendering time a lot. For a lot of the very complicated scenes, my patients wore out before the non BVH acceleration got to 20%. With BVH acceleration however, it took about a second. Two examples I did let both versions finish are the cow and teapot. For the cow, rendering time decreased from 33.97 to 0.1095 seconds. Similarly, rendering time for the teapot went from 15.63 seconds to just 0.1173. Without BVH acceleration, it&rsquo;s about 200x slower. However, there&rsquo;s a tradeoff. Constructing the BVH takes 20x longer! Going from 0.0002 all the way to 0.0054 seconds for the cow, and 0.0001 to 0.0033 for the teapot. BVH acceleration speeds up the rendering by a lot, and it almost never makes sense not to have (unless you&rsquo;re using something better).</span><hr style="page-break-before:always;display:none;"></li></ul><h2 class="c0" id="h.ez8sibz3wp1t"><span class="c1">Part 3</span></h2><ul class="c4 lst-kix_n3hm8fi1tz1w-0 start"><li class="c6 li-bullet-0"><span class="c3">I have two implementations for direct lighting, uniform hemisphere sampling and lighting sampling. Uniform hemisphere sampling essentially shoots out rays uniformly randomly across the hemisphere of the normal vector and averages the result. Lighting sampling takes into account where the lights are, and samples only in their direction.</span></li><li class="c6 li-bullet-0"><span class="c3">Hemisphere sampling with sample rates 16 and 64</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 246.50px; height: 184.88px;"><img alt="" src="images/image14.png" style="width: 246.50px; height: 184.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 248.50px; height: 186.38px;"><img alt="" src="images/image21.png" style="width: 248.50px; height: 186.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span class="c3">Importance sampling with sample rates 1 and 64</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 243.50px; height: 182.37px;"><img alt="" src="images/image13.png" style="width: 243.50px; height: 182.37px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 242.50px; height: 181.88px;"><img alt="" src="images/image1.png" style="width: 242.50px; height: 181.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><hr style="page-break-before:always;display:none;"><p class="c5"><span class="c3"></span></p><ul class="c4 lst-kix_n3hm8fi1tz1w-0"><li class="c6 li-bullet-0"><span class="c3">As is visible below, having more light rays helps reduce noise and make the soft lighting much more visible.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 234.00px; height: 175.50px;"><img alt="" src="images/image18.png" style="width: 234.00px; height: 175.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 233.15px; height: 174.86px;"><img alt="" src="images/image9.png" style="width: 233.15px; height: 174.86px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 233.15px; height: 174.86px;"><img alt="" src="images/image11.png" style="width: 233.15px; height: 174.86px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 233.63px; height: 175.22px;"><img alt="" src="images/image30.png" style="width: 233.63px; height: 175.22px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span>The differences between uniform hemisphere sampling and lighting sampling are stark. Lighting sampling is a lot less noisy and everything that should be lit is lit for the most part even at low samples. Both maintain the shapes of objects and lighting well (when looking past the noise).</span><hr style="page-break-before:always;display:none;"></li></ul><h2 class="c0" id="h.btmdszr0o0i8"><span class="c1">Part 4</span></h2><ul class="c4 lst-kix_4lsnx9uyw7lp-0 start"><li class="c6 li-bullet-0"><span class="c3">The indirect lighting function is a recursive function that determines the direct lighting at a point and adds the indirect lighting up to a certain number of bounces. It can terminate bounces early and uniformly randomly so as to speed up the process and allow for more bounces.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 276.37px; height: 207.28px;"><img alt="" src="images/image28.png" style="width: 276.37px; height: 207.28px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 275.50px; height: 206.63px;"><img alt="" src="images/image24.png" style="width: 275.50px; height: 206.63px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span class="c3">Below is a render of only the direct illumination and only the indirect illumination.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 242.00px; height: 181.50px;"><img alt="" src="images/image17.png" style="width: 242.00px; height: 181.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 240.50px; height: 180.38px;"><img alt="" src="images/image19.png" style="width: 240.50px; height: 180.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span class="c3">Below are several renderings with different parameters. The top row shows just the lighting at one depth and the bottom shows the sum of all the lighting. The bounces increase from left to right going from 0 to 5.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 160.00px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 160.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><p class="c5"><span class="c3"></span></p><p class="c5"><span class="c3"></span></p><ul class="c4 lst-kix_4lsnx9uyw7lp-0"><li class="c6 li-bullet-0"><span class="c3">Below are renderings using Russian Roulette rendering at sample rates 0, 1, 2, 3, 4, and 100. As I&rsquo;m sure you can tell there is a slight bug with large sample rates, but I can&rsquo;t spot it and it takes too long to render to debug.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 248.67px; height: 186.50px;"><img alt="" src="images/image3.png" style="width: 248.67px; height: 186.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 246.50px; height: 184.88px;"><img alt="" src="images/image10.png" style="width: 246.50px; height: 184.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 248.71px; height: 186.53px;"><img alt="" src="images/image2.png" style="width: 248.71px; height: 186.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 252.03px; height: 188.53px;"><img alt="" src="images/image23.png" style="width: 252.03px; height: 188.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 249.50px; height: 187.38px;"><img alt="" src="images/image4.png" style="width: 249.50px; height: 187.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 252.55px; height: 188.14px;"><img alt="" src="images/image25.png" style="width: 252.55px; height: 188.14px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><hr style="page-break-before:always;display:none;"></li></ul><h2 class="c0" id="h.5x18ej8y382e"><span class="c1">Part 5</span></h2><ul class="c4 lst-kix_3zyids3q36be-0 start"><li class="c6 li-bullet-0"><span class="c3">Adaptive sampling is an algorithm that reduces render time in most cases. It works by ending sampling for certain pixels if the values it&#39;s sampling are very similar. My implementation works by saving the sum of the illuminations and the sum of the squares of the illuminations. It uses these to calculate the variance and mean, and if they don&rsquo;t fit my equation, end sampling for this pixel.</span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 262.00px; height: 196.50px;"><img alt="" src="images/image27.png" style="width: 262.00px; height: 196.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 260.50px; height: 195.38px;"><img alt="" src="images/image15.png" style="width: 260.50px; height: 195.38px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c6 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 259.50px; height: 194.12px;"><img alt="" src="images/image12.png" style="width: 259.50px; height: 194.12px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 263.50px; height: 196.09px;"><img alt="" src="images/image22.png" style="width: 263.50px; height: 196.09px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul></body></html>